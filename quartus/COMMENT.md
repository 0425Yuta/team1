# 感想
コンパイラの実装を見越してスタックマシンにしたが、
やっぱりアセンブリはかなり書きづらいしレジスタマシンでも良かった気はする。
大学でもCPUはもう一回くらいは書きたいのでその時はレジスタマシンにしたい

Flashからの読み込みが実装できなかったのは残念だった。
十分な時間があれば実装したかったが、
そもそもFlashへ書き込めるかどうかも結構怪しかった。

割り込み処理を一切書かなかったので次にCPUを書く時は割り込みまで実装しきりたい。

日和ってSystemVerilogで書いたが次はChiselで書きたい。

途中で画面をRAMから出力するにはCPUとは別に読み出しポートが必要な事に気づいたが、
Dual PortのIPはあったし東大のCPU実験のブログでも言及はされていた。
車輪を再発明する上で一番楽しく力になるのはこのような先人が乗り越えてきた壁に気付く体験だと思う。
なぜスタック領域を「スタック」と呼ぶのかといった基礎的な事に理解が生えてよかった。

ALUを書いているとクロックを詰めて最適化出来そうな場所（パイプラインの実装とか）や、
ベクトル演算命令を実装出来そうだなと思う瞬間が何度かあった。
東大のCPU実験のようにコンパイラから全てを少人数班で作り込むのはやはり難しいだろうが、
極めて小さな仕様のISAが与えられるのでそれを指定されたクロック内で高速に実行するCPUを実装する演習があれば
これ以上無いほど楽しいだろうなと思った。

# 反省点
昨年はASJもあって自分にあまり余裕が無かったとは言え班員をかなり放置気味にしてしまったのは申し訳なかった。
CPUの動作とスタック、命令の構造についてゼミのようなものを実施すべきだったと思う。
ハードルが高い課題ではあったにしてももっと早い段階で気づき、目標の修正なり参考文献の提示なり叩き台の作成なりをすべきだった。
